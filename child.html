<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    html,
    body {
      background: #fcc;
      margin: 0;
      /* padding: 0; */
      display: flex;
      flex-direction: column;
    }
    .box {
      background: #aaf;
      width: 150px;
      height: 150px;
    }
  </style>
</head>

<body>
  <h1>test55555</h1>
  <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Odit, consequatur.</p>
  <p>
    美國故障相比事業第一學術運行平衡尷尬教育活動利潤，你在黑暗相對，豐原圍繞還是語文即將現在紡織實用，還沒有瘋狂新臺幣作者令人儘量無奈一道因素指出指定有一，權益世界上有所雖然再也版面，害怕化學相對漫畫道路感動市委鎖定實業這樣當前位置昨日，主動幫忙實驗一臉，幫。
  </p>
  <p>你也儘快二人機制用。</p>
  <ul>
    <div class="box"></div>
  </ul>
  <script>
    /* iframe 的 parent 就是包它的頁面 */
    window.addEventListener('load', () => {
      const height = document.body.offsetHeight;
      parent.postMessage(height);
      //parent.postMessage(height, 'http://127.0.0.1:5500'); // https://mother.tw 就是母頁的網域
    });


    //範例2：母頁傳訊息給iframe頁
    // 接到 message 要做什麼事的 function
    function receiveMessage(e) {
      // 來源網址（e.origin）不是指定的網域時
      if (e.origin !== 'http://127.0.0.1:5500') {
        alert('資料來源錯誤');
        return false;
      }
      // 來源網址是指定的網域時
      else {
        // 拿傳來的參數（e.data）
        const bgColor = e.data;
        console.log(bgColor)
        document.querySelector('.box').setAttribute('style', 'background: ' + bgColor);
      }
    }

    // 監聽 message 事件
    window.addEventListener('message', receiveMessage, false);
  </script>
</body>

</html>