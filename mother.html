<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>iframe</title>
  <link rel="stylesheet" href="style.min.css" />
  <style type="text/css">
    body {
      background: #F5F5F5;
    }

    iframe {
      border: thin dashed #666666;
      width: 700px;
      /* height: 300px; */
    }
  </style>
</head>

<body>
  <li><a href="https://www.fooish.com/html/">HTML (HyperText Markup Language) 教學</a></li>
  <li><a href="https://www.letswrite.tw/postmessage/">postMessage：主頁、iframe 頁可互相傳值</a></li>
  <li><a href="https://stackoverflow.com/questions/574944/how-to-load-up-css-files-using-javascript">How to load up CSS
      files using Javascript?</a></li>
  <li><a href="https://juejin.cn/post/6991828558096105485">嵌入的iframe又不能访问了？还有这些你不知道的事</a></li>
  <li><a href="https://steam.oxxostudio.tw/category/html/tags/iframe.html">內嵌頁框 (iframe) </a></li>
  <li><a href="https://www.racecoder.com/archives/904/">Fiddler Everywhere抓取http://localhost 或 http://127.0.0.1 的流量</a>
  </li>
  <li><a href="https://blog.csdn.net/weixin_34019144/article/details/86347588">iframe 内显示的网页 只显示改网页的某一部分！</a></li>
  <li><a href="https://zhuanlan.zhihu.com/p/26926377">Iframe页面嵌入ios上固定定位的解决以及获取iframe外层的节点</a></li>
  <li><a href="https://www.twblogs.net/a/5b8a01ea2b71775d1ce4e7f1">深入理解iframe</a></li>
  <br>
  <abbr title="HTTTYYY">HTMM</abbr>
  <hr>
  <iframe id="iframe" src="./child.html" scrolling="no"></iframe>
  <hr>
  <div>
    <button id="blue" type="button">藍色</button>
    <button id="gold" type="button">金色</button>
    <button id="green" type="button">綠色</button>
  </div>
  <iframe id="iframe2" src="./child2.html"></iframe>

  <div>
    <iframe id="child" src="text.html"></iframe>
  </div>
  <hr>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/s4BibernJxU" title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen></iframe>
  <script>
    //範例1：iframe頁傳訊息給母頁
    // 接到 message 要做什麼事的 function
    function receiveMessage(e) {
      // 來源網址（e.origin）不是指定的網域時
      if (e.origin !== 'https://april808.github.io/') {
        alert('資料來源錯誤');
        return false;
      }
      // 來源網址是指定的網域時
      else {
        // 拿傳來的參數（e.data）
        const height = e.data;
        document.getElementById('iframe').setAttribute('height', height); // 改變iframe tag height
        console.log(height)
      }
    }

    // 監聽 message 事件
    window.addEventListener('message', receiveMessage, false);


    //範例2：母頁傳訊息給iframe頁
    // 抓到iframe的視窗
    const iframe = document.getElementById('iframe2').contentWindow;
    // 按鈕click時傳訊息
    document.getElementById('blue').addEventListener('click', function () {
      iframe.postMessage('lightskyblue', 'https://april808.github.io/');
    });
    document.getElementById('gold').addEventListener('click', () => {
      iframe.postMessage('gold', 'https://april808.github.io/');
    });

    document.getElementById('green').addEventListener('click', () => {
      iframe.postMessage('lightgreen', 'https://april808.github.io/');
    });

  </script>
</body>

</html>
